<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <!-- Fonts & Icons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- Styles -->
    <link rel="stylesheet" href="dashboard.css" />
  </head>
  <body>
    <!-- Blurred background image slot -->
    <div class="bg-blur-image"></div>

    <!-- Main animated card -->
    <div class="dashboard-wrapper animated-gradient-bg">
      <header class="top-bar">
        <h1>
          <span class="material-icons gradient-icon">dashboard</span> 
        </h1>
        <section class="upcoming-meetings">
          <h2><span class="material-icons">event</span> Upcoming Meetings</h2>
          <div id="upcomingContainer">
            <!-- JS will populate here -->
          </div>
        </section>

        <button id="logout-button" class="styled-logout-btn">
          <span class="material-icons">logout</span> Logout
        </button>
      </header>

      <section class="section">
        <h2>My Rooms</h2>
        <div id="my-rooms" class="card-grid"></div>
        <p id="no-rooms-message" class="empty-msg" style="display: none">
          You have no rooms yet.
        </p>
      </section>

      <section class="section">
        <h2>My Upcoming Meetings</h2>
        <ul id="my-meetings" class="meeting-list"></ul>
        <p id="no-meetings-message" class="empty-msg" style="display: none">
          No upcoming meetings.
        </p>
      </section>

      <section class="section actions">
        <div class="form-block">
          <h3>Create a Room</h3>
          <form id="create-room-form">
            <input
              type="text"
              id="create-room-name"
              placeholder="Room Name"
              required
            />
            <!-- âœ… Moved the error span here -->
            <span
              class="error"
              id="roomNameError"
              style="
                display: none;
                margin-top: 5px;
                display: block;
                color: #e53935;
              "
            ></span>
            <button type="submit" class="submit-btn">
              <span class="material-icons">add</span> Create
            </button>
          </form>
        </div>

        <div class="form-block">
          <h3>Join a Room</h3>
          <form id="join-room-form">
            <input
              type="text"
              id="join-room-code"
              placeholder="Room Code"
              required
            />
            <button type="submit" class="submit-btn">
              <span class="material-icons">login</span> Join
            </button>
          </form>
        </div>
      </section>
    </div>

    <!-- Welcome Modal -->
    <div id="welcomeModal" class="modal-overlay" style="display: none">
      <div class="modal">
        <div class="modal-title" id="welcomeModalTitle"></div>
        <div class="modal-body" id="welcomeModalBody"></div>
        <div class="modal-actions">
          <button id="welcomeModalOk" class="modal-btn">OK</button>
        </div>
      </div>
    </div>

    <!-- Room Created Modal -->
    <div id="roomCreatedModal" class="modal-overlay" style="display: none">
      <div class="modal">
        <div class="modal-title" id="roomCreatedModalTitle"></div>
        <div class="modal-body" id="roomCreatedModalBody"></div>
        <div class="modal-actions">
          <button id="roomCreatedModalOk" class="modal-btn">OK</button>
        </div>
      </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal-overlay" style="display: none">
      <div class="modal-box">
        <p>Are you sure you want to log out?</p>
        <div class="modal-actions">
          <button onclick="confirmLogout()" class="yes-btn">Yes</button>
          <button onclick="closeLogoutModal()" class="cancel-btn">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Logout Success Modal -->
    <div id="logoutSuccessModal" class="modal-overlay" style="display: none">
      <div class="modal-box">
        <p>Logout successful</p>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="deleteRoomModal" class="modal-overlay" style="display: none">
      <div class="modal-box">
        <p>Are you sure you want to delete this room from your dashboard?</p>
        <div class="modal-actions">
          <button id="confirmDeleteBtn" class="yes-btn">Yes</button>
          <button onclick="closeDeleteModal()" class="cancel-btn">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div id="deleteSuccessModal" class="modal-overlay" style="display: none">
      <div class="modal-box">
        <p>Room deleted successfully</p>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="dashboard.js"></script>
  </body>
</html>
